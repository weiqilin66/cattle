spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    type: com.zaxxer.hikari.HikariDataSource # 连接池类型
    url: jdbc:mysql://172.16.42.119:3306/pub?characterEncoding=UTF-8&autoReconnect=true&failOverReadOnly=false&rewriteBatchedStatements=true&generateSimpleParameterMetadata=true&useSSL=false  #数据库连接的url
    username: pubusr
    password: pubusr_qhwd
    hikari:
      minimum-idle: 5 #空闲时最小连接数
      maximum-pool-size: 20 #连接池大小
      data-source-properties:
        cachePrepStmts: true #是否启用Prep缓存
        prepStmtCacheSize: 250 #Prep缓存大小
        prepStmtCacheSqlLimit: 2048 #Prep缓存sql限制大小
        useServerPrepStmts: true #是否用服务缓存Prep

# Feign调用配置
feign:
  httpclient:
    enabled: false
  okhttp:
    enabled: true
  hystrix:
    enabled: true
# ribbon配置
ribbon:
  ConnectTimeout: 10000       # ribbon请求连接的超时时间（ms）
  ReadTimeout: 10000        # 请求处理的超时时间（ms）
  OkToRetryOnAllOperations: true  # 是否对所有请求操作都进行重试
  MaxAutoRetries: 0         # 当前服务404不重试
  MaxAutoRetriesNextServer: 1   # 404切换一次服务实例
  serverListRefreshInterval: 2000 # 刷新服务列表时间间隔（ms）
  eureka:
    enabled: true         # 是否启用eureka列表拉取

# Hystrix 配置
hystrix:
  command:
    default:
      execution:
        timeout:
          enabled: true          # Hystrix是否启用超时时间
        isolation:
          thread:
            timeoutInMilliseconds: 20000 # Hystrix断路器的超时时间，默认是1s，断路器的超时时间需要大于ribbon的超时时间，不然不会触发重试
